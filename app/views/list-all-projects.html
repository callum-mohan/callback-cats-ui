{% extends "layout.html" %}
{% block pageTitle %}
List of Employees
{% endblock %}
{% block content %}
{{ govukPhaseBanner({
    tag: {
    text: "Alpha"
    },
    html: 'This is a new service – your <a class="govuk-link" href="/feedback">feedback</a> will help us to improve it.'
    }) }}

  <br>
<h1 class="govuk-heading-xl">
  All Employees
  <span class="govuk-caption-xl"></span>
</h1>
<p>
  This lets you view all the employees, and all information stored of them.
</p>
{% from "govuk/components/cookie-banner/macro.njk" import govukCookieBanner %}

{% set html %}
<p class="govuk-body">We use some essential cookies to make this service work.</p>
<p class="govuk-body">We’d also like to use analytics cookies so we can understand how you use the service and make
    improvements.</p>
{% endset %}

{% if employees and employees.length > 0 %}
{% set employeeRows = [] %}
{% for employee in employees %}
{% set employeeRows = (employeeRows.push([ { text: employee.employeeId }, { text: employee.first_name  }, { text: employee.last_name },
{ text: employee.address }, { text: employee.postcode }, { text: employee.nin  }, { text: employee.bankNo }, 
{text: employee.startSalary }, {text: employee.departmentId } ]), employeeRows) %}
{% endfor %}
{{govukTable({
caption:"List of Employees",
head: [ { text: "ID" },{ text: "First Name" },{ text: "Surname" },
{ text: "Address" },{ text: "Postcode" }, { text: "National Insurance Number"}, 
{text: "Bank Numebr"} , {text: "Salary"} , {text: "Department Id"}],
rows: employeeRows })
}}
{% else %}
There are no Employees.
{% endif %}

{% from "govuk/components/button/macro.njk" import govukButton %}

<ul class="govuk-list govuk-list--bullet">
    <li>
      <a href="index.html">Return back</a>
    </li>
  </ul>
{% endblock %}